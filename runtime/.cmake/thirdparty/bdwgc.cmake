function(link_lib target_name)
    target_include_directories(${target_name} PRIVATE "${CMAKE_SOURCE_DIR}/thiedparty/include/bdwgc")
	# プラットフォーム名を設定
    if(WIN32)
        set(platformname "windows")
    elseif(APPLE)
        set(platformname "macos")
    elseif(UNIX AND NOT APPLE)
        set(platformname "linux")
    elseif(CMAKE_SYSTEM_NAME MATCHES "FreeBSD")
        set(platformname "freebsd")
    elseif(ANDROID)
        set(platformname "android")
    elseif(IOS)
        set(platformname "ios")
    else()
        set(platformname "unknown")
    endif()
    if(CMAKE_SIZEOF_VOID_P EQUAL 8)
        set(BUILD_ARCHITECTURE "x64")
    elseif(CMAKE_SIZEOF_VOID_P EQUAL 4)
        set(BUILD_ARCHITECTURE "x86")
    endif()
    target_link_libraries(${target_name} "${CMAKE_SOURCE_DIR}/thirdparty/lib/${CMAKE_BUILD_TYPE}/${platformname}/${BUILD_ARCHITECTURE}/bdwgc/cord")
    target_link_libraries(${target_name} "${CMAKE_SOURCE_DIR}/thirdparty/lib/${CMAKE_BUILD_TYPE}/${platformname}/${BUILD_ARCHITECTURE}/bdwgc/gc")
    target_link_libraries(${target_name} "${CMAKE_SOURCE_DIR}/thirdparty/lib/${CMAKE_BUILD_TYPE}/${platformname}/${BUILD_ARCHITECTURE}/bdwgc/gccpp")
    target_link_libraries(${target_name} "${CMAKE_SOURCE_DIR}/thirdparty/lib/${CMAKE_BUILD_TYPE}/${platformname}/${BUILD_ARCHITECTURE}/bdwgc/gctba")
endfunction()